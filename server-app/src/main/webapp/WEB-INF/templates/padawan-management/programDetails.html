<!DOCTYPE html>
<html ng-app="coachManagement">
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="/css/main.css"/>
    <link rel="stylesheet" href="/css/coach.css"/>
    <title>Доска информации</title>
    <script src="/js/libs/jquery-core/jquery-1.4.2.js"></script>
    <script src="/js/libs/angularjs/angular.js"></script>
    <script type="text/javascript" src="/js/libs/angularjs/angular-resource.js"></script>
    <script type="text/javascript" src="/js/angularJS/coach-management.js"></script>

</head>
<body>
<div id="mainContainer">
    <header id="coachHeader" ng-controller="statusListController">
        <div style="text-align: right;">
            <span>Статус:</span>
            <select ng-model="currentStatus" ng-change="updateStatus()" ng-options="k as v for (k,v) in data"
                    name="status" id="status"></select>
        </div>
        <div id="statusResponseHolder" style="text-align: right">
            <span id="statusMessege"></span>
        </div>
        Welcome to coach page!<br>
        ${message}
    </header>
    <section>
        <h1>Детали для программы &laquo;${programName}&raquo;</h1>
        #parse("padawan-management/menu.vm")
        <br/>
        <a href="/findcoach/coach/${coachAlias}/program/${programId}/cycle.html">Добавить цикл</a>

        <table>
            <tr>
                <th>Название цикла</th>
                <th>Старт</th>
                <th>Конец</th>
                <th>&nbsp;</th>
            </tr>
            #foreach ($cycle in ${cycles})
            <tr>
                <td>$cycle.name</td>
                <td>$cycle.startDate.format(${formatter})</td>
                <td>$cycle.endDate.format(${formatter})</td>
                <td><a href="/findcoach/coach/${coachAlias}/program/${programId}/cycle/${cycle.cycleId}/training.html">Добавить тренировку</a></td>
                <td><a href="/findcoach/coach/${coachAlias}/program/${programId}/cycle/${cycle.cycleId}.html">Изменить цикл</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <table>
                        #foreach ($event in $cycle.events)
                        <tr>
                            <td>$!event.title</td>
                            <td>$event.description</td>
                            <td>$!event.type</td>
                            <td>$event.recurrences.get(0).startDate.format(${timeFormatter})</td>
                            <td>$event.recurrences.get(0).endDate.format(${timeFormatter})</td>
                        </tr>
                        #end
                    </table>
                </td>
            </tr>
            #end
        </table>
    </section>

</div>

</body>
</html>
