<!DOCTYPE html>
<html ng-app="coachManagement">
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Доска информации</title>
    <link rel="stylesheet" href="/css/main.css"/>
    <link rel="stylesheet" href="/css/coach.css"/>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
          integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
            integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
            crossorigin="anonymous"></script>

    <script src="/js/libs/angularjs/angular.js"></script>
    <script type="text/javascript" src="/js/libs/angularjs/angular-resource.js"></script>
    <script type="text/javascript" src="/js/angularJS/coach-management.js"></script>

</head>
<body>
<div id="mainContainer">
    <header id="coachHeader" ng-controller="statusListController">
        <div style="text-align: right;">
            <span>Статус:</span>
            <select ng-model="currentStatus" ng-change="updateStatus()" ng-options="k as v for (k,v) in data"
                    name="status" id="status"></select>
        </div>
        <div id="statusResponseHolder" style="text-align: right">
            <span id="statusMessege"></span>
        </div>
        Welcome to coach page!<br>
        ${message}
    </header>
    <section ng-controller="programDetailsController" ng-init="init()">
        <h1>Детали для программы &laquo;<span ng-bind="programName"></span>&raquo;</h1>
        #parse("padawan-management/menu.vm")
        <br/>
        <a href="/findcoach/coach/${coachAlias}/program/${programId}/cycle.html">Добавить цикл</a>

        <table class="table table-striped">
            <thead>
            <tr>
                <th>Название цикла</th>
                <th>Старт</th>
                <th>Конец</th>
                <th>&nbsp;</th>
                <th>&nbsp;</th>
            </tr>
            </thead>
            <tbody>
            #foreach ($cycle in ${cycles})
            <tr>
                <td>$cycle.name</td>
                <td>$!cycle.startDate.format(${formatter})</td>
                <td>$!cycle.endDate.format(${formatter})</td>
                <td>
                    <button type="button" class="btn btn-default btn-sm"
                            onclick="location.href='/findcoach/coach/${coachAlias}/program/${programId}/cycle/${cycle.cycleId}/training.html'">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Добавить тренировку
                    </button>
                </td>
                <td>
                    <button type="button" class="btn btn-default btn-sm"
                            onclick="location.href='/findcoach/coach/${coachAlias}/program/${programId}/cycle/${cycle.cycleId}.html'">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Редактировать цикл
                    </button>
                </td>
            </tr>
            <tr>
                <td colspan="5">
                    <table class="table table-hover">
                        #foreach ($training in $cycle.trainings)
                        <tr>
                            <td>$training.title</td>
                            <td>$training.description</td>
                            <td>$training.typeLocalized</td>
                            <td>$training.startDateTime.format(${timeFormatter})</td>
                            <td>$training.endDateTime.format(${timeFormatter})</td>
                        </tr>
                        #end
                    </table>
                </td>
            </tr>
            #end
            </tbody>
        </table>


    </section>

</div>

</body>
</html>
